{"version":3,"file":"ng-nice-select.js","sources":["ng-nice-select/lib/ng-nice-select.directive.ts","ng-nice-select/lib/ng-nice-select.module.ts"],"names":[],"mappings":"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,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AACA,AAEA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AApDA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AARA,AAAA,ACAA,AAQA,AAAA,AALA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA","sourcesContent":["import { ElementRef, OnDestroy, OnChanges, AfterViewInit, HostListener } from '@angular/core';\nimport { Directive } from '@angular/core';\nimport 'jquery-nice-select';\n\ndeclare var $;\n\n@Directive({\n  selector: '[nice-select]',\n})\nexport class NgNiceSelectDirective implements AfterViewInit, OnDestroy {\n\n  observer: MutationObserver;\n\n  constructor(\n    private el: ElementRef\n  ) {}\n\n  ngAfterViewInit(): void {\n    $(this.el.nativeElement).niceSelect();\n\n    this.attachAngularChange();\n    this.attachObserver();\n  }\n\n  attachAngularChange(): void {\n    $(this.el.nativeElement).one('change', () => {\n      const customEvent = document.createEvent('Event');\n      customEvent.initEvent('change', true, true);\n      this.el.nativeElement.dispatchEvent(customEvent);\n      this.attachAngularChange();\n    });\n  }\n\n  attachObserver() {\n    this.observer = new MutationObserver(mutations => {\n      mutations.forEach(() => this.onChanges());\n    });\n\n    this.observer.observe(this.el.nativeElement, {\n      attributes: true,\n      childList: true,\n      characterData: true\n    });\n  }\n\n  detachObserver() {\n    this.observer.disconnect();\n  }\n\n  onChanges() {\n    this.detachObserver();\n    $(this.el.nativeElement).niceSelect('update');\n    this.attachObserver();\n  }\n\n  ngOnDestroy() {\n    this.detachObserver();\n    $(this.el.nativeElement).niceSelect('destroy');\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { NgNiceSelectDirective } from './ng-nice-select.directive';\n\n@NgModule({\n  declarations: [NgNiceSelectDirective],\n  imports: [],\n  exports: [NgNiceSelectDirective]\n})\nexport class NiceSelectModule { }\n"]}