{"version":3,"file":"ng-nice-select.js.map","sources":["ng://ng-nice-select/lib/ng-nice-select.directive.ts","ng://ng-nice-select/lib/ng-nice-select.module.ts"],"sourcesContent":["import { ElementRef, OnDestroy, OnChanges, AfterViewInit, HostListener } from '@angular/core';\nimport { Directive } from '@angular/core';\nimport 'jquery-nice-select';\n\ndeclare var $;\n\n@Directive({\n  selector: '[nice-select]',\n})\nexport class NgNiceSelectDirective implements AfterViewInit, OnDestroy {\n\n  observer: MutationObserver;\n\n  constructor(\n    private el: ElementRef\n  ) {}\n\n  ngAfterViewInit(): void {\n    $(this.el.nativeElement).niceSelect();\n\n    this.attachAngularChange();\n    this.attachObserver();\n  }\n\n  attachAngularChange(): void {\n    $(this.el.nativeElement).one('change', () => {\n      const customEvent = document.createEvent('Event');\n      customEvent.initEvent('change', true, true);\n      this.el.nativeElement.dispatchEvent(customEvent);\n      this.attachAngularChange();\n    });\n  }\n\n  attachObserver() {\n    this.observer = new MutationObserver(mutations => {\n      mutations.forEach(() => this.onChanges());\n    });\n\n    this.observer.observe(this.el.nativeElement, {\n      attributes: true,\n      childList: true,\n      characterData: true\n    });\n  }\n\n  detachObserver() {\n    this.observer.disconnect();\n  }\n\n  onChanges() {\n    this.detachObserver();\n    $(this.el.nativeElement).niceSelect('update');\n    this.attachObserver();\n  }\n\n  ngOnDestroy() {\n    this.detachObserver();\n    $(this.el.nativeElement).niceSelect('destroy');\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { NgNiceSelectDirective } from './ng-nice-select.directive';\n\n@NgModule({\n  declarations: [NgNiceSelectDirective],\n  imports: [],\n  exports: [NgNiceSelectDirective]\n})\nexport class NiceSelectModule { }\n"],"names":[],"mappings":";;;;;;;AAAA;IAaE,+BACU,EAAc;QAAd,OAAE,GAAF,EAAE,CAAY;KACpB;;;;IAEJ,+CAAe;;;IAAf;QACE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,UAAU,EAAE,CAAC;QAEtC,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;;;;IAED,mDAAmB;;;IAAnB;QAAA,iBAOC;QANC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE;;gBAC/B,WAAW,GAAG,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC;YACjD,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC5C,KAAI,CAAC,EAAE,CAAC,aAAa,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;YACjD,KAAI,CAAC,mBAAmB,EAAE,CAAC;SAC5B,CAAC,CAAC;KACJ;;;;IAED,8CAAc;;;IAAd;QAAA,iBAUC;QATC,IAAI,CAAC,QAAQ,GAAG,IAAI,gBAAgB,CAAC,UAAA,SAAS;YAC5C,SAAS,CAAC,OAAO,CAAC,cAAM,OAAA,KAAI,CAAC,SAAS,EAAE,GAAA,CAAC,CAAC;SAC3C,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE;YAC3C,UAAU,EAAE,IAAI;YAChB,SAAS,EAAE,IAAI;YACf,aAAa,EAAE,IAAI;SACpB,CAAC,CAAC;KACJ;;;;IAED,8CAAc;;;IAAd;QACE,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC;KAC5B;;;;IAED,yCAAS;;;IAAT;QACE,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QAC9C,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;;;;IAED,2CAAW;;;IAAX;QACE,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;KAChD;;gBApDF,SAAS,SAAC;oBACT,QAAQ,EAAE,eAAe;iBAC1B;;;;gBARQ,UAAU;;IA4DnB,4BAAC;CAtDD;;;;;;ACNA;IAGA;KAKiC;;gBALhC,QAAQ,SAAC;oBACR,YAAY,EAAE,CAAC,qBAAqB,CAAC;oBACrC,OAAO,EAAE,EAAE;oBACX,OAAO,EAAE,CAAC,qBAAqB,CAAC;iBACjC;;IAC+B,uBAAC;CALjC;;;;;;;;;;;;;;"}
