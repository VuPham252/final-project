{"version":3,"file":"ng-nice-select.umd.js.map","sources":["ng://ng-nice-select/lib/ng-nice-select.directive.ts","ng://ng-nice-select/lib/ng-nice-select.module.ts"],"sourcesContent":["import { ElementRef, OnDestroy, OnChanges, AfterViewInit, HostListener } from '@angular/core';\nimport { Directive } from '@angular/core';\nimport 'jquery-nice-select';\n\ndeclare var $;\n\n@Directive({\n  selector: '[nice-select]',\n})\nexport class NgNiceSelectDirective implements AfterViewInit, OnDestroy {\n\n  observer: MutationObserver;\n\n  constructor(\n    private el: ElementRef\n  ) {}\n\n  ngAfterViewInit(): void {\n    $(this.el.nativeElement).niceSelect();\n\n    this.attachAngularChange();\n    this.attachObserver();\n  }\n\n  attachAngularChange(): void {\n    $(this.el.nativeElement).one('change', () => {\n      const customEvent = document.createEvent('Event');\n      customEvent.initEvent('change', true, true);\n      this.el.nativeElement.dispatchEvent(customEvent);\n      this.attachAngularChange();\n    });\n  }\n\n  attachObserver() {\n    this.observer = new MutationObserver(mutations => {\n      mutations.forEach(() => this.onChanges());\n    });\n\n    this.observer.observe(this.el.nativeElement, {\n      attributes: true,\n      childList: true,\n      characterData: true\n    });\n  }\n\n  detachObserver() {\n    this.observer.disconnect();\n  }\n\n  onChanges() {\n    this.detachObserver();\n    $(this.el.nativeElement).niceSelect('update');\n    this.attachObserver();\n  }\n\n  ngOnDestroy() {\n    this.detachObserver();\n    $(this.el.nativeElement).niceSelect('destroy');\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { NgNiceSelectDirective } from './ng-nice-select.directive';\n\n@NgModule({\n  declarations: [NgNiceSelectDirective],\n  imports: [],\n  exports: [NgNiceSelectDirective]\n})\nexport class NiceSelectModule { }\n"],"names":["Directive","ElementRef","NgModule"],"mappings":";;;;;;;;;;AAAA;QAaE,+BACU,EAAc;YAAd,OAAE,GAAF,EAAE,CAAY;SACpB;;;;QAEJ,+CAAe;;;YAAf;gBACE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,UAAU,EAAE,CAAC;gBAEtC,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;;;;QAED,mDAAmB;;;YAAnB;gBAAA,iBAOC;gBANC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE;;wBAC/B,WAAW,GAAG,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC;oBACjD,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;oBAC5C,KAAI,CAAC,EAAE,CAAC,aAAa,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;oBACjD,KAAI,CAAC,mBAAmB,EAAE,CAAC;iBAC5B,CAAC,CAAC;aACJ;;;;QAED,8CAAc;;;YAAd;gBAAA,iBAUC;gBATC,IAAI,CAAC,QAAQ,GAAG,IAAI,gBAAgB,CAAC,UAAA,SAAS;oBAC5C,SAAS,CAAC,OAAO,CAAC,cAAM,OAAA,KAAI,CAAC,SAAS,EAAE,GAAA,CAAC,CAAC;iBAC3C,CAAC,CAAC;gBAEH,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE;oBAC3C,UAAU,EAAE,IAAI;oBAChB,SAAS,EAAE,IAAI;oBACf,aAAa,EAAE,IAAI;iBACpB,CAAC,CAAC;aACJ;;;;QAED,8CAAc;;;YAAd;gBACE,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC;aAC5B;;;;QAED,yCAAS;;;YAAT;gBACE,IAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;gBAC9C,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;;;;QAED,2CAAW;;;YAAX;gBACE,IAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;aAChD;;oBApDFA,cAAS,SAAC;wBACT,QAAQ,EAAE,eAAe;qBAC1B;;;;;wBARQC,eAAU;;;QA4DnB,4BAAC;KAtDD;;;;;;ACNA;QAGA;SAKiC;;oBALhCC,aAAQ,SAAC;wBACR,YAAY,EAAE,CAAC,qBAAqB,CAAC;wBACrC,OAAO,EAAE,EAAE;wBACX,OAAO,EAAE,CAAC,qBAAqB,CAAC;qBACjC;;QAC+B,uBAAC;KALjC;;;;;;;;;;;;;;;;;;;;;;;"}
